{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@xypp/forum-quests/./src/common/extend.ts","webpack://@xypp/forum-quests/./src/common/models/QuestInfo.ts","webpack://@xypp/forum-quests/./src/common/utils/NodeUtil.ts","webpack://@xypp/forum-quests/./src/common/utils/ReAvailableTranslateUtil.ts","webpack://@xypp/forum-quests/./src/forum/components/QuestConditionViewModal.tsx","webpack://@xypp/forum-quests/./src/forum/components/QuestItem.tsx","webpack://@xypp/forum-quests/./src/forum/components/QuestPage.tsx","webpack://@xypp/forum-quests/./src/forum/index.ts","webpack://@xypp/forum-quests/./src/forum/notification/QuestDoneNotification.ts","webpack://@xypp/forum-quests/./src/forum/utils/frontendTrigger.ts","webpack://@xypp/forum-quests/external assign \"flarum.extensions['xypp-collector']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/Component']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/Model']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/components/Button']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/components/Page']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/components/Select']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/extend']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/extenders']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['forum/app']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['forum/components/Notification']\"","webpack://@xypp/forum-quests/external root \"flarum.core.compat['forum/components/NotificationGrid']\"","webpack://@xypp/forum-quests/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@xypp/forum-quests/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@xypp/forum-quests/./node_modules/@babel/runtime/regenerator/index.js","webpack://@xypp/forum-quests/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@xypp/forum-quests/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@xypp/forum-quests/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@xypp/forum-quests/webpack/bootstrap","webpack://@xypp/forum-quests/webpack/runtime/compat get default export","webpack://@xypp/forum-quests/webpack/runtime/define property getters","webpack://@xypp/forum-quests/webpack/runtime/hasOwnProperty shorthand","webpack://@xypp/forum-quests/webpack/runtime/make namespace object","webpack://@xypp/forum-quests/./forum.ts"],"sourcesContent":["import Extend from 'flarum/common/extenders';\r\nimport QuestInfo from './models/QuestInfo';\r\nexport default [\r\n    new Extend.Store()\r\n        .add('quest-infos', QuestInfo)\r\n];","import Model from 'flarum/common/Model';\nimport type { ConditionData, RewardData } from '@xypp-collector/common/types/data';\n\n\nfunction optionalJsonParser<T>(data: any): T[] {\n  if (!data) {\n    return [];\n  }\n  try {\n    return JSON.parse(data);\n  } catch (ignore) {\n    return [];\n  }\n}\n\nexport default class QuestInfo extends Model {\n  name = Model.attribute<string>('name');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n  description = Model.attribute<string>('description');\n  condition = Model.attribute<ConditionData[]>('conditions', optionalJsonParser<ConditionData>);\n  reward = Model.attribute<RewardData[]>('rewards', optionalJsonParser<RewardData>);\n  re_available = Model.attribute<string>('re_available');\n  done = Model.attribute<boolean>('done');\n  icon = Model.attribute<string>('icon');\n  hidden = Model.attribute<boolean>('hidden');\n  manual = Model.attribute<boolean>('manual');\n}","export function showIf(judgement: boolean, vnode: any, def?: any) {\n    return judgement ? vnode : (def || \"\");\n}","import AdminApplication from \"flarum/admin/AdminApplication\";\r\nimport ForumApplication from \"flarum/forum/ForumApplication\";\r\n\r\nexport default function humanizeReAvailable(app: ForumApplication | AdminApplication, value: string) {\r\n    const val = value?.split(\":\");\r\n    if (!val || val.length < 2) {\r\n        return app.translator.trans(\"xypp-forum-quests.forum.re_available.none\")\r\n    }\r\n    const [type, v] = val;\r\n    return app.translator.trans(\"xypp-forum-quests.forum.re_available.\" + type, {\r\n        value: v\r\n    });\r\n}","import Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\r\nimport app from 'flarum/forum/app';\r\n\r\nimport { HumanizeUtils, Condition } from '@xypp-collector/forum';\r\n\r\nexport default class QuestConditionViewModal extends Modal<{\r\n    items: Condition[]\r\n} & IInternalModalAttrs> {\r\n    span: number = 0;\r\n    className() {\r\n        return 'Modal';\r\n    }\r\n    title() {\r\n        return app.translator.trans('xypp-forum-quests.forum.condition_view.title');\r\n    }\r\n    content() {\r\n        return (\r\n            <div className=\"Modal-body\">\r\n                <table className='Table ConditionViewTable'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>{app.translator.trans('xypp-forum-quests.forum.condition_view.name')}</th>\r\n                            <th>{app.translator.trans('xypp-forum-quests.forum.condition_view.value')}</th>\r\n                            <th>{app.translator.trans('xypp-forum-quests.forum.condition_view.span')}</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.attrs.items.map((item, index) => {\r\n                            return (\r\n                                <tr>\r\n                                    <td>{HumanizeUtils.getInstance(app).getConditionName(item.name())}</td>\r\n                                    <td>{item.value()}</td>\r\n                                    <td>{item.getSpan(this.span)}</td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                        <tr>\r\n                            <td>{app.translator.trans('xypp-forum-quests.forum.condition_view.set_span')}</td>\r\n                            <td></td>\r\n                            <td>\r\n                                <input type=\"number\" className=\"FormControl\" step=\"any\" value={this.span} oninput={((e: InputEvent) => {\r\n                                    this.span = parseInt((e.target as HTMLInputElement).value);\r\n                                    m.redraw();\r\n                                })} />\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import app from 'flarum/forum/app';\r\nimport { IPageAttrs } from 'flarum/common/components/Page';\r\nimport Button from 'flarum/common/components/Button';\r\nimport Component from 'flarum/common/Component';\r\nimport QuestInfo from '../../common/models/QuestInfo';\r\nimport { showIf } from '../../common/utils/NodeUtil';\r\nimport humanizeReAvailable from '../../common/utils/ReAvailableTranslateUtil';\r\n\r\nimport type { ConditionData } from '@xypp-collector/common/types/data';\r\nimport { Condition, ConditionList, RewardList, OPERATOR } from '@xypp-collector/forum';\r\n\r\n\r\nexport default class QuestItem extends Component<{\r\n    item: QuestInfo,\r\n    conditionMap?: Record<string, Condition>\r\n} & IPageAttrs, null> {\r\n    loading: boolean = false;\r\n    currentFilter: string = \"all\";\r\n    updatingCondition: boolean = false;\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n    }\r\n    oncreate(vnode: any): void {\r\n        super.oncreate(vnode);\r\n    }\r\n    view() {\r\n        return (\r\n            <div className={this.attrs.item.done() ? \"quest-item-container quest-done\" : \"quest-item-container\"}>\r\n                <div className='quest-item-name'>\r\n                    {this.attrs.item.name()}\r\n                    {showIf(!!(this.attrs.item.done()),\r\n                        <span className='quest-item-done'>\r\n                            {app.translator.trans(\"xypp-forum-quests.forum.quest.done\") + \" \"}\r\n                            <i class=\"fas fa-check\"></i>\r\n                        </span>\r\n                        ,\r\n                        showIf(this.attrs.item.manual(),\r\n                            <Button className='Button Button--secondary Button--small' loading={this.updatingCondition} disabled={this.updatingCondition} onclick={this.updateCondition.bind(this)}>\r\n                                {showIf(!this.updatingCondition, <i class=\"fas fa-sync\"></i>)}\r\n                            </Button>\r\n                        )\r\n                    )}\r\n                </div>\r\n                <div className='quest-item-description'>\r\n                    {this.attrs.item.description()}\r\n                </div>\r\n                <div className='quest-item-time'>\r\n                    <i className='fas fa-clock'></i>{\" \"}\r\n                    {humanizeReAvailable(app, this.attrs.item.re_available())}\r\n                </div>\r\n                <div className='collector-infos'>\r\n                    <ConditionList conditions={this.attrs.item.condition()} conditionMap={this.attrs.conditionMap}></ConditionList>\r\n                    <RewardList rewards={this.attrs.item.reward()}></RewardList>\r\n                </div>\r\n                {showIf(!!(this.attrs.item.icon()),\r\n                    <div className='quest-item-icon'><i class={this.attrs.item.icon()}></i></div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    progress(condition: ConditionData) {\r\n        if (!this.attrs.conditionMap || !this.attrs.conditionMap[condition.name]) return \"\";\r\n        let value = this.attrs.conditionMap[condition.name].value();\r\n        if (condition.span) {\r\n            value = this.attrs.conditionMap[condition.name].getSpan(condition.span);\r\n        }\r\n        const satisfy = this.conditionOp(value, condition.operator, condition.value);\r\n        if (satisfy) {\r\n            return <span className=\"quest-item-progress-satisfy\">\r\n                [<i class=\"fas fa-check\"></i>]\r\n            </span>\r\n        }\r\n        return (\r\n            <span className={\"quest-item-progress-not-satisfy\"}>\r\n                [{value}/{condition.value}]\r\n            </span>\r\n        );\r\n\r\n    }\r\n    conditionOp(value1: number, op: OPERATOR, value2: number) {\r\n        switch (op) {\r\n            case OPERATOR.EQUAL:\r\n                return value1 == value2;\r\n            case OPERATOR.GREATER_THAN:\r\n                return value1 > value2;\r\n            case OPERATOR.GREATER_THAN_OR_EQUAL:\r\n                return value1 >= value2;\r\n            case OPERATOR.LESS_THAN:\r\n                return value1 < value2;\r\n            case OPERATOR.LESS_THAN_OR_EQUAL:\r\n                return value1 <= value2;\r\n            case OPERATOR.NOT_EQUAL:\r\n                return value1 != value2;\r\n        }\r\n    }\r\n    async updateCondition() {\r\n        this.updatingCondition = true;\r\n        m.redraw();\r\n        try {\r\n            await app.request({\r\n                method: \"GET\",\r\n                url: app.forum.attribute(\"apiUrl\") + \"/quest-infos/\" + this.attrs.item.id() + \"/update\",\r\n            });\r\n            const item = await app.store.find<QuestInfo>('quest-infos', this.attrs.item.id() as string);\r\n            this.attrs.item.pushAttributes(item.data.attributes as any);\r\n        } finally {\r\n            this.updatingCondition = false;\r\n            m.redraw();\r\n        }\r\n    }\r\n}\r\n","import Page from 'flarum/common/components/Page';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport listItems from 'flarum/common/helpers/listItems';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport Button from 'flarum/common/components/Button';\r\nimport app from 'flarum/forum/app';\r\nimport { showIf } from '../../common/utils/NodeUtil';\r\nimport QuestInfo from '../../common/models/QuestInfo';\r\nimport QuestItem from './QuestItem';\r\nimport Select from 'flarum/common/components/Select';\r\nimport QuestConditionViewModal from './QuestConditionViewModal';\r\nimport {HumanizeUtils,getConditionMap,getConditions,Condition} from '@xypp-collector/forum';\r\nexport default class QuestPage extends Page {\r\n    REG_STATUS = {\r\n        \"all\": app.translator.trans('xypp-forum-quests.forum.quest_done.all'),\r\n        \"true\": app.translator.trans('xypp-forum-quests.forum.quest_done.true'),\r\n        \"false\": app.translator.trans('xypp-forum-quests.forum.quest_done.false')\r\n    }\r\n    loading: boolean = false;\r\n    more: boolean = false;\r\n    currentFilter: string = \"all\";\r\n    offset: number = 0;\r\n    items: QuestInfo[] = [];\r\n    conditions: Condition[] = [];\r\n    conditionLoading: boolean = false;\r\n    conditionMap: Record<string, Condition> = {};\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n    }\r\n    oncreate(vnode: any): void {\r\n        super.oncreate(vnode);\r\n        this.loadMore();\r\n        if (app.session.user) {\r\n            this.loadConditions();\r\n        }\r\n    }\r\n    view() {\r\n        return (\r\n            <div>\r\n                {IndexPage.prototype.hero()}\r\n                <div className=\"container\">\r\n                    <div className=\"sideNavContainer\">\r\n                        <nav className=\"IndexPage-nav sideNav\">\r\n                            <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\r\n                        </nav>\r\n                        <div className=\"QuestPageContainer\">\r\n                            <div className='QuestPageOpt'>\r\n                                <Select\r\n                                    options={this.REG_STATUS}\r\n                                    value={this.currentFilter}\r\n                                    onchange={((e: string) => this.reloadAll(e)).bind(this)}>\r\n                                </Select>\r\n                                <Button className='Button Button--primary' onclick={this.conditionView.bind(this)}>\r\n                                    {app.translator.trans(\"xypp-forum-quests.forum.condition_view.button\")}\r\n                                </Button>\r\n                            </div>\r\n                            <div className=\"QuestPageContent\">\r\n                                {this.items.map((item) => {\r\n                                    return (\r\n                                        <QuestItem item={item} conditionMap={this.conditionMap} />\r\n                                    );\r\n                                })\r\n                                }\r\n                            </div>\r\n                            <div className='QuestPageLoad'>\r\n                                {showIf(this.loading,\r\n                                    <LoadingIndicator />,\r\n                                    showIf(this.more,\r\n                                        <Button className='Button Button--primary'>\r\n                                            {app.translator.trans(\"xypp-forum-quests.forum.quest.load_more\")}\r\n                                        </Button>))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n    async loadMore() {\r\n        this.loading = true;\r\n        m.redraw();\r\n        await HumanizeUtils.getInstance(app).loadDefinition();\r\n        const newItems = await app.store.find<QuestInfo[]>('quest-infos', { page: { offset: this.offset, limit: 10 }, filter: this.currentFilter } as any);\r\n        this.items.push(...newItems);\r\n        this.loading = false;\r\n        if (newItems.length < 10) {\r\n            this.more = false;\r\n        }\r\n        this.offset += newItems.length;\r\n        m.redraw();\r\n    }\r\n\r\n    async loadConditions() {\r\n        this.conditionLoading = true;\r\n        m.redraw();\r\n        this.conditions = await getConditions();\r\n        this.conditionMap = await getConditionMap();\r\n        this.conditionLoading = false;\r\n        m.redraw();\r\n    }\r\n    reloadAll(type: string) {\r\n        this.currentFilter = type;\r\n        this.items = [];\r\n        this.offset = 0;\r\n        this.more = true;\r\n        this.loadMore();\r\n    }\r\n\r\n    conditionView() {\r\n        app.modal.show(QuestConditionViewModal, { items: this.conditions }, true);\r\n    }\r\n}\r\n","import app from 'flarum/forum/app';\nimport QuestDoneNotification from './notification/QuestDoneNotification';\nimport { extend } from 'flarum/common/extend';\nimport NotificationGrid from 'flarum/forum/components/NotificationGrid';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport QuestPage from './components/QuestPage';\napp.initializers.add('xypp/forum-quests', () => {\n  app.notificationComponents.quest_done = QuestDoneNotification;\n  app.routes['quest_page'] = {\n    path: \"/quest_page\",\n    component: QuestPage\n  };\n  extend(NotificationGrid.prototype, 'notificationTypes', function (items) {\n    items.add('postLiked', {\n      name: 'postLiked',\n      icon: 'far fa-thumbs-up',\n      label: app.translator.trans('xypp-forum-quests.forum.notification.quest_done_label')\n    });\n  });\n\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    items.add(\n      'quest_page',\n      LinkButton.component(\n        {\n          href: app.route('quest_page'),\n          icon: 'fas fa-tasks',\n        },\n        [\n          app.translator.trans('xypp-forum-quests.forum.quest.quest')\n        ]\n      ),\n      10\n    );\n  });\n});\n\nimport { triggerCondition, triggerConditions } from './utils/frontendTrigger';\nimport QuestInfo from '../common/models/QuestInfo';\nimport QuestConditionViewModal from './components/QuestConditionViewModal';\nimport QuestItem from './components/QuestItem';\nexport {\n  triggerCondition,\n  triggerConditions,\n  QuestInfo,\n  QuestConditionViewModal,\n  QuestItem\n};\n","import Notification from 'flarum/forum/components/Notification';\r\nimport username from 'flarum/common/helpers/username';\r\nimport app from 'flarum/forum/app';\r\n\r\nexport default class QuestDoneNotification extends Notification {\r\n    excerpt() {\r\n        return \"\"\r\n    }\r\n    icon() {\r\n        return 'fas fa-star';\r\n    }\r\n\r\n    href() {\r\n        return app.route(\"quest_page\");\r\n    }\r\n\r\n    content() {\r\n        //@ts-ignore\r\n        return app.translator.trans('xypp-forum-quests.forum.notification.quest_done', { name: this.attrs.notification.subject().name() });\r\n    }\r\n}","import app from \"flarum/forum/app\"\r\nexport function triggerCondition(key: string, value: number) {\r\n    return triggerConditions({\r\n        [key]: value\r\n    })\r\n}\r\nexport function triggerConditions(records: Record<string, number>) {\r\n    const rec = Object.keys(records).map(key => {\r\n        return {\r\n            name: key,\r\n            value: records[key]\r\n        }\r\n    });\r\n    return app.request({\r\n        url: app.forum.attribute('apiUrl') + \"/quest-condition\",\r\n        method: \"POST\",\r\n        body: { data: rec }\r\n    });\r\n}","module.exports = flarum.extensions['xypp-collector'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Page'];","module.exports = flarum.core.compat['common/components/Select'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/extenders'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/IndexPage'];","module.exports = flarum.core.compat['forum/components/Notification'];","module.exports = flarum.core.compat['forum/components/NotificationGrid'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/forum';\nexport { default as extend } from './src/common/extend';"],"names":["Extend","QuestInfo","Store","add","Model","optionalJsonParser","data","JSON","parse","ignore","_Model","_this","_len","arguments","length","args","Array","_key","call","apply","concat","name","attribute","createdAt","transformDate","updatedAt","description","condition","reward","re_available","done","icon","hidden","manual","_inheritsLoose","default","showIf","judgement","vnode","def","humanizeReAvailable","app","value","val","split","translator","trans","type","v","Modal","HumanizeUtils","QuestConditionViewModal","_Modal","span","_proto","prototype","className","title","content","_this2","m","attrs","items","map","item","index","getInstance","getConditionName","getSpan","step","oninput","e","parseInt","target","redraw","Button","Component","ConditionList","RewardList","OPERATOR","QuestItem","_Component","loading","currentFilter","updatingCondition","oninit","oncreate","view","disabled","onclick","updateCondition","bind","conditions","conditionMap","rewards","progress","satisfy","conditionOp","operator","value1","op","value2","EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","NOT_EQUAL","_updateCondition","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","request","method","url","forum","id","store","find","sent","pushAttributes","attributes","finish","stop","Page","IndexPage","listItems","LoadingIndicator","Select","getConditionMap","getConditions","QuestPage","_Page","REG_STATUS","more","offset","conditionLoading","loadMore","session","user","loadConditions","hero","sidebarItems","toArray","options","onchange","reloadAll","conditionView","_loadMore","_this$items","newItems","loadDefinition","page","limit","filter","push","_loadConditions","_callee2","_callee2$","_context2","modal","show","QuestDoneNotification","extend","NotificationGrid","LinkButton","initializers","notificationComponents","quest_done","routes","path","component","label","href","route","triggerCondition","triggerConditions","Notification","_Notification","excerpt","notification","subject","key","_triggerConditions","records","rec","Object","keys","body","_typeof","require","module","exports","__esModule","t","r","n","hasOwnProperty","o","defineProperty","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","delegate","maybeInvokeDelegate","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","charAt","slice","rval","handle","complete","_catch","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","asyncGeneratorStep","_next","_throw","_setPrototypeOf"],"sourceRoot":""}